<!--
Copyright (c) Microsoft Corporation.
Licensed under the MIT license.
-->

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/index.css') }}">

    <!-- EH: prototyping jquery ui calendar, talk to powerbi embed-->
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <style>
        .ui-datepicker-calendar {
            display: none;
        }
    </style>
    <!-- EH: prototyping jquery ui calendar, talk to powerbi embed-->

    <title>Power BI Embedded sample</title>
</head>

<body>
    <header class="embed-container col-lg-12 col-md-12 col-sm-12 shadow">
        <p>
            Power BI Embedded Sample
        </p>
    </header>
    <main class="row">
        <section id="text-container" class="embed-container col-lg-4 col-md-4 col-sm-4 mb-5 ml-5 mt-5">
            <div>
                <p>This sample is developed using Flask framework.
                    <br>
                    In order to see a different report, make changes to the <i>config.py</i> file.
                </p>
                <p>Code is present in the following files:
                    <ol>
                        <li>test6.js</li>
                        <li>test6.html</li>
                        <li>and what ever mentioned in index.html</li>
                    </ol>
                </p>
                <p>
                    <h2>Testing to talk to Ben's token resp api (fastapi)</h2>
                    <p style="font-size:12pt">
                        - see https://github.com/intelematics/dac-api-insight-embed-token <br />
                        - this service abstracts the powerbi api call to request client token
                        - start the service on a different port - 5001
                        - allow local host cors access see : https://fastapi.tiangolo.com/tutorial/cors/
                        - this example just shows that we can get the token from a seperate service
                    </p>
                    <!-- EH: prototyping reports available -->
                    <div id="reports">Loading....</div>
                    <!-- EH: prototyping reports available -->
                </p>
            </div>
        </section>
        <section id="report-container" class="embed-container col-lg-offset-4 col-lg-7 col-md-offset-5 col-md-7 col-sm-offset-5 col-sm-7 mt-5">
        </section>

        <!-- Used to display report embed error messages -->
        <section class="error-container m-5">
        </section>
    </main>
    <footer class="embed-container col-lg-12 col-md-12 col-sm-12 mb-0 mt-4">
        <p class="text-center">
            For Live demo and more code samples please visit <a
            href="https://aka.ms/pbijs">https://aka.ms/pbijs</a>
            <br>
            For JavaScript API, please visit <a
            href="https://aka.ms/PowerBIjs">https://aka.ms/PowerBIjs</a>
        </p>
    </footer>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js" integrity="sha384-w1Q4orYjBQndcko6MimVbzY0tgp4pWB4lZ7lr30WKz0vr/aWKhXdBNmNb5D92v7s" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/powerbi-client/2.15.1/powerbi.min.js" integrity="sha512-OWIl8Xrlo8yQjWN5LcMz5SIgNnzcJqeelChqPMIeQGnEFJ4m1fWWn668AEXBrKlsuVbvDebTUJGLRCtRCCiFkg==" crossorigin="anonymous"></script>
    <script src="{{ url_for('static', filename='js/test6.js') }}"></script>

    <!-- EH: prototyping jquery ui calendar, talk to powerbi embed-->
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>
    <!-- EH: prototyping jquery ui calendar, talk to powerbi embed-->
</body>
</html>